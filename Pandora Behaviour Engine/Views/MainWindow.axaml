<!--
  ~ SPDX-License-Identifier: GPL-3.0-or-later
  ~ Copyright (C) 2023-2026 Pandora Behaviour Engine Contributors
-->

<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:Pandora.ViewModels"
		    xmlns:vws="using:Pandora.Views"
				xmlns:b="using:Pandora.Behaviors"
        xmlns:ui="using:FluentAvalonia.UI.Controls"
				xmlns:dto="using:Pandora.Views.Pages.DTOs"
				xmlns:rxui="http://reactiveui.net"
        mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="500"
        x:Class="Pandora.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
				Background="{DynamicResource BackgroundVerticalGradient}"
        Title="Pandora Behaviour Engine"
        MinWidth="400"
        MinHeight="400">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>
		<vws:EngineMenu Grid.Row="0" DataContext="{Binding EngineMenuVM}" Margin="10 0 0 0" />
		<ui:NavigationView x:Name="NavPanel"
											 Grid.Row="1"
											 MenuItemsSource="{Binding NavigationItems}"
											 FooterMenuItemsSource="{Binding FooterNavigationItems}"
                       PaneDisplayMode="Left"
											 IsPaneOpen="False"
											 IsPaneToggleButtonVisible="False"
                       SelectedItem="{Binding SelectedMenuItem, Mode=TwoWay}"
                       IsSettingsVisible="False">
			<ui:NavigationView.Content>
				<rxui:RoutedViewHost x:Name="RoutedViewHost"
				                      Router="{Binding Router}"
                              HorizontalContentAlignment="Stretch"
                              VerticalContentAlignment="Stretch">
					<rxui:RoutedViewHost.DefaultContent>
						<TextBlock Text="Loading..." HorizontalAlignment="Center" VerticalAlignment="Center" />
					</rxui:RoutedViewHost.DefaultContent>
				</rxui:RoutedViewHost>
			</ui:NavigationView.Content>
			<ui:NavigationView.MenuItemTemplate>
				<DataTemplate x:DataType="dto:NavigationItem">
					<ui:NavigationViewItem Content="{Binding Name}" SelectsOnInvoked="True" IconSource="{Binding Icon}" />
				</DataTemplate>
			</ui:NavigationView.MenuItemTemplate>
		</ui:NavigationView>
  </Grid>
</Window>
